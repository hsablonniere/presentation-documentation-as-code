html
  --max-lines 20
  --max-lines-height 0.96
  --min-line-height calc(calc(var(--slide-height) * var(--max-lines-height)) / var(--max-lines))
  --font-factor calc(var(--slide-ratio) / calc(4 / 3))

// below 14/9 we display 4/3 slides
@media (max-aspect-ratio 14 / 9)
  html
    --slide-ratio calc(4 / 3)

// above 14/9 we display 16/9 slides
@media (min-aspect-ratio 14 / 9)
  html
    --slide-ratio calc(16 / 9)

// below 4/3 and between 14/9 and 16/9 slides are centered vertically
@media (max-aspect-ratio 4 / 3), (min-aspect-ratio 14 / 9) and (max-aspect-ratio 16 / 9)
  html
    --slide-height calc(var(--slide-width) / var(--slide-ratio))
    --slide-width 100vw

// between 4/3 and 14/9 abord 16/9 slides are centered horizontally
@media (min-aspect-ratio 4 / 3) and (max-aspect-ratio 14 / 9), (min-aspect-ratio 16 / 9)
  html
    --slide-height 100vh
    --slide-width calc(var(--slide-height) * var(--slide-ratio))

html
  background-color black
  font-size calc(var(--min-line-height) * 0.6)
  line-height calc(1 / 0.6)

html
body
  height 100%
  margin 0
  overflow hidden

.bespoke-parent
  background-color white
  height var(--slide-height)
  left calc(calc(100vw - var(--slide-width)) / 2)
  overflow hidden
  position absolute
  top calc(calc(100vh - var(--slide-height)) / 2)
  width var(--slide-width)

.bespoke-slide
  align-items center
  background-color white
  display flex
  flex-direction column
  height var(--slide-height)
  justify-content center
  left 0
  overflow hidden
  position absolute
  top 0
  width var(--slide-width)
  &:not(.bespoke-active)
    display none

.bespoke-active
  z-index 2
